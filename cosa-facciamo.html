<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./assets/css/font.css">
    <link rel="stylesheet" href="./assets/css/global.css">
    <link rel="stylesheet" href="./assets/css/header.css">
    <title>Edge Homepage</title>
</head>

<body>

    <div class="app-container page-template-default page-id-40">

        <!-- HEADER -->
        <div id="edge-header" class="edge-header">
            <div id="header-logo-container" class="header-logo-container">
                <img class="header-logo-img" src="./assets/svgs/logo.svg" alt="Edge" />
                <h1 class="header-logo-edge">edge</h1>
            </div>
            <div class="header-navigation-links-container">
                <div class="header-navigation-links">
                    <a class="header-navigation-link selected" href="/a-proposito-di-noi.html">A proposito di noi</a>
                    <a class="header-navigation-link" href="/cosa-facciamo.html">Cosa facciamo</a>
                    <a class="header-navigation-link" href="/over-the-edge.html">Over the Edge</a>
                    <a class="header-navigation-link" href="/il-gruppo.html">Il gruppo</a>
                    <a class="header-navigation-link" href="/contatti.html">Contatti</a>
                    <a class="header-navigation-link" href="#">it <span style="font-family: arial;">|</span> en</a>
                </div>
            </div>
        </div>

        <div class="app-container">

            <style>
                .section-1-what-we-do {}

                .section-1-what-we-do--container {
                    width: 100%;
                    height: 100%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }

                .section-1-what-we-do--left-big-svg {
                    margin-right: 4rem;
                    width: 200px;
                    height: 122px;
                    background: url('https://edge.chebellagiornata.it/wp-content/themes/generic/assets/svgs/shape-2-orange.svg');
                    background-repeat: no-repeat;
                    background-position: center;
                    background-size: contain;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }

                .section-1-what-we-do--left-big-svg-text {
                    font-family: 'Mundial Regular';
                    font-size: 1.2rem;
                    text-transform: uppercase;
                    color: white;
                }

                #circle_outer_container {
                    position: relative;
                }

                .section-1-what-we-do--central-logo {
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: url('https://edge.chebellagiornata.it/wp-content/themes/generic/assets/svgs/logo.svg');
                    background-repeat: no-repeat;
                    width: 99px;
                    height: 181px;
                }

                #circle_inner_container {
                    box-sizing: border-box;
                    width: 400px;
                    height: 400px;
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                }

                .circle-item {
                    width: 40px;
                    height: 40px;
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform-origin: 0 0;
                    transform: rotate(0deg) translate(200px) rotate(0deg);
                    z-index: 2;
                }

                .inner-container {
                    width: 100%;
                    height: 100%;
                    background-repeat: no-repeat;
                    background-position: center;
                    background-size: contain;
                    transform-origin: center;
                }

                .circle-item .inner-container {
                    background-image: url('https://edge.chebellagiornata.it/wp-content/themes/generic/assets/svgs/shape-3-lightblue.svg');
                }

                .circle-item-13 .inner-container,
                .circle-item-1 .inner-container {
                    background-image: url('https://edge.chebellagiornata.it/wp-content/themes/generic/assets/svgs/shape-3-orange.svg');
                }

                .section-1-what-we-do--right-big-svg {
                    margin-left: 4rem;
                    width: 200px;
                    height: 122px;
                    background: url('https://edge.chebellagiornata.it/wp-content/themes/generic/assets/svgs/shape-2-orange.svg');
                    background-repeat: no-repeat;
                    background-position: center;
                    background-size: contain;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    transform: scaleX(-1);
                }

                .section-1-what-we-do--right-big-svg-text {
                    font-family: 'Mundial Regular';
                    font-size: 1.2rem;
                    text-transform: uppercase;
                    color: white;
                    transform: scaleX(-1);
                    margin-left: 1rem;
                }
            </style>

            <style>
                /* Use classes to rotate each SVG inline */
                .circle-item-1 { transform: rotate(0deg) translate(200px) rotate(-100deg); }
                .circle-item-2 { transform: rotate(15deg) translate(200px) rotate(-105deg); }
                .circle-item-3 { transform: rotate(30deg) translate(200px) rotate(-100deg); }
                .circle-item-4 { transform: rotate(45deg) translate(200px) rotate(-95deg); }
                .circle-item-5 { transform: rotate(60deg) translate(200px) rotate(-90deg); }
                .circle-item-6 { transform: rotate(75deg) translate(200px) rotate(-95deg); }
                .circle-item-7 { transform: rotate(90deg) translate(200px) rotate(-90deg); }
                .circle-item-8 { transform: rotate(105deg) translate(200px) rotate(-95deg); }
                .circle-item-9 { transform: rotate(120deg) translate(200px) rotate(-100deg); }
                .circle-item-10 { transform: rotate(135deg) translate(200px) rotate(-105deg); }
                .circle-item-11 { transform: rotate(150deg) translate(200px) rotate(-110deg); }
                .circle-item-12 { transform: rotate(165deg) translate(200px) rotate(-100deg); }
                .circle-item-13 { transform: rotate(180deg) translate(200px) rotate(-90deg); }
                .circle-item-14 { transform: rotate(195deg) translate(200px) rotate(-95deg); }
                .circle-item-15 { transform: rotate(210deg) translate(200px) rotate(-90deg); }
                .circle-item-16 { transform: rotate(225deg) translate(200px) rotate(-95deg); }
                .circle-item-17 { transform: rotate(240deg) translate(200px) rotate(-100deg); }
                .circle-item-18 { transform: rotate(255deg) translate(200px) rotate(-95deg); }
                .circle-item-19 { transform: rotate(270deg) translate(200px) rotate(-90deg); }
                .circle-item-20 { transform: rotate(285deg) translate(200px) rotate(-455deg); }
                .circle-item-21 { transform: rotate(300deg) translate(200px) rotate(-460deg); }
                .circle-item-22 { transform: rotate(315deg) translate(200px) rotate(-95deg); }
                .circle-item-23 { transform: rotate(330deg) translate(200px) rotate(-100deg); }
                .circle-item-24 { transform: rotate(345deg) translate(200px) rotate(-105deg); }
            </style>
            <div class="section-padded-content section-1-what-we-do">
                <div class="section-1-what-we-do--container">

                    <div class="section-1-what-we-do--left-big-svg">
                        <div class="section-1-what-we-do--left-big-svg-text">Client</div>
                    </div>


                    <div id="circle_outer_container">
                        <div class="section-1-what-we-do--central-logo"></div>
                        <div id="circle_inner_container">
                            <div class="circle-item circle-item-8" id="svg-8">
                                <div class="inner-container"></div>
                            </div>
                            <div class="circle-item circle-item-9" id="svg-9">
                                <div class="inner-container"></div>
                            </div>
                            <div class="circle-item circle-item-10" id="svg-10">
                                <div class="inner-container"></div>
                            </div>
                            <div class="circle-item circle-item-11" id="svg-11">
                                <div class="inner-container"></div>
                            </div>
                            <div class="circle-item circle-item-12" id="svg-12">
                                <div class="inner-container"></div>
                            </div>
                            <div class="circle-item circle-item-13" id="svg-13">
                                <div class="inner-container"></div>
                            </div>
                            <div class="circle-item circle-item-14" id="svg-14">
                                <div class="inner-container"></div>
                            </div>
                            <div class="circle-item circle-item-15" id="svg-15">
                                <div class="inner-container"></div>
                            </div>
                            <div class="circle-item circle-item-16" id="svg-16">
                                <div class="inner-container"></div>
                            </div>
                            <div class="circle-item circle-item-17" id="svg-17">
                                <div class="inner-container"></div>
                            </div>
                            <div class="circle-item circle-item-18" id="svg-18">
                                <div class="inner-container"></div>
                            </div>
                            <div class="circle-item circle-item-19" id="svg-19">
                                <div class="inner-container"></div>
                            </div>
                            <div class="circle-item circle-item-20" id="svg-20">
                                <div class="inner-container"></div>
                            </div>
                            <div class="circle-item circle-item-21" id="svg-21">
                                <div class="inner-container"></div>
                            </div>
                            <div class="circle-item circle-item-22" id="svg-22">
                                <div class="inner-container"></div>
                            </div>
                            <div class="circle-item circle-item-23" id="svg-23">
                                <div class="inner-container"></div>
                            </div>
                            <div class="circle-item circle-item-24" id="svg-24">
                                <div class="inner-container"></div>
                            </div>
                            <div class="circle-item circle-item-1" id="svg-1">
                                <div class="inner-container"></div>
                            </div>
                            <div class="circle-item circle-item-2" id="svg-2">
                                <div class="inner-container"></div>
                            </div>
                            <div class="circle-item circle-item-3" id="svg-3">
                                <div class="inner-container"></div>
                            </div>
                            <div class="circle-item circle-item-4" id="svg-4">
                                <div class="inner-container"></div>
                            </div>
                            <div class="circle-item circle-item-5" id="svg-5">
                                <div class="inner-container"></div>
                            </div>
                            <div class="circle-item circle-item-6" id="svg-6">
                                <div class="inner-container"></div>
                            </div>
                            <div class="circle-item circle-item-7" id="svg-7">
                                <div class="inner-container"></div>
                            </div>
                        </div>
                    </div>

                    <div class="section-1-what-we-do--right-big-svg">
                        <div class="section-1-what-we-do--right-big-svg-text">compagnia<br>assicurativa</div>
                    </div>

                </div>
            </div>


            <script>
                document.addEventListener("DOMContentLoaded", () => {
                    const circleInnerContainer = document.getElementById("circle_inner_container");

                    if (!circleInnerContainer) {
                        console.error("Element with ID 'circle_inner_container' not found.");
                        return;
                    }

                    // Phase 1: Rotate the circle_inner_container and two specific items simultaneously
                    function phaseOne() {
                        return new Promise((resolve) => {
                            // Set initial transform to ensure the browser registers it
                            circleInnerContainer.style.transform = "rotate(0deg)";

                            // Apply the transition for rotation
                            circleInnerContainer.style.transition = "transform 1s ease-in-out";

                            // Select the two specific circle items
                            const circleItem1Inner = document.querySelector(".circle-item-1 .inner-container");
                            const circleItem13Inner = document.querySelector(".circle-item-13 .inner-container");

                            if (!circleItem1Inner || !circleItem13Inner) {
                                console.warn("One or both of the circle-item-1 or circle-item-13 not found.");
                            }

                            // Apply transitions and rotations to the two selected items
                            if (circleItem1Inner) {
                                circleItem1Inner.style.transition = "transform 1s ease-in-out";
                                circleItem1Inner.style.transform = "rotate(-85deg)";
                            }

                            if (circleItem13Inner) {
                                circleItem13Inner.style.transition = "transform 1s ease-in-out";
                                circleItem13Inner.style.transform = "rotate(-95deg)";
                            }

                            // Use a slight delay to ensure the initial state is registered
                            setTimeout(() => {
                                circleInnerContainer.style.transform = "rotate(185deg)";
                            }, 50); // 50ms delay

                            // Wait for the animation to complete before resolving
                            setTimeout(() => {
                                // Verify the rotation via computed styles
                                const computedStyle = window.getComputedStyle(circleInnerContainer);
                                console.log("Phase 1: Computed transform after animation", computedStyle.transform);
                                resolve();
                            }, 1050); // 1s transition + 50ms delay
                        });
                    }

                    // Phase 2: Incrementally change shape backgrounds to orange, starting from 2 to 24, excluding 13
                    function phaseTwo() {
                        return new Promise((resolve) => {
                            const orangeBackground = 'url("https://edge.chebellagiornata.it/wp-content/themes/generic/assets/svgs/shape-3-orange.svg")';
                            const defaultDelay = 250;

                            const circleItems = [];

                            // Collect circle items from 2 to 24, excluding 13
                            for (let i = 2; i <= 24; i++) {
                                const item = document.querySelector(`.circle-item-${i} .inner-container`);
                                if (item) {
                                    circleItems.push(item);
                                } else {
                                    console.warn(`Circle item ${i} not found.`);
                                }
                            }

                            if (!circleItems.length) {
                                console.error("No circle items found for phase two.");
                                resolve();
                                return;
                            }

                            // Start changing backgrounds after a 1-second delay
                            setTimeout(() => {
                                circleItems.forEach((item, index) => {
                                    // Apply the incremental delay and background change
                                    setTimeout(() => {
                                        // Remove any transition for an instant background change
                                        item.style.transition = "none";
                                        item.style.backgroundImage = orangeBackground;

                                        // Debugging: Log each item's background change
                                        console.log(`Phase 2: Background applied to ${item.parentElement.className}`, {
                                            backgroundImage: item.style.backgroundImage,
                                        });
                                    }, index * defaultDelay);
                                });

                                // Wait for all background changes to complete
                                setTimeout(() => {
                                    resolve();
                                }, circleItems.length * defaultDelay);
                            }, 1000); // 1-second delay before starting background changes
                        });
                    }

                    // Start the animation sequence
                    async function startAnimation() {
                        await phaseOne(); // Phase 1: Rotate the container and two items simultaneously
                        await phaseTwo(); // Phase 2: Change backgrounds incrementally
                    }

                    startAnimation();
                });
            </script>


            </script>

            });

            </script>
        </div>

    </div>

    </div>
</body>

</html>